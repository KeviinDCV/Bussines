import{r as s,j as e}from"./app-Bz4Jl_qD.js";import{c as i}from"./createLucideIcon-Cz9XKqAq.js";import{L as g}from"./loader-circle-C0P67UZG.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],j=i("CircleAlert",p);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],w=i("Maximize2",b);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],k=i("Minimize2",N);function z({url:n,config:m}){const[d,a]=s.useState(!0),[o,x]=s.useState(null),[t,f]=s.useState(!1),l=s.useRef(null),c={width:"100%",height:"800px",...m};s.useEffect(()=>{const r=l.current;r&&(r.onload=()=>a(!1),r.onerror=()=>{a(!1),x("Error al cargar el informe de Power BI")})},[n]);const u=()=>{const r=l.current;r&&(t?document.exitFullscreen&&document.exitFullscreen():r.requestFullscreen&&r.requestFullscreen(),f(!t))},y=r=>{if(r.includes("embed=true"))return r;if(r.includes("powerbi.com")){const h=r.includes("?")?"&":"?";return`${r}${h}rs:embed=true`}return r};return o?e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(j,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error al cargar el informe"}),e.jsx("p",{className:"text-gray-600 mb-4",children:o}),e.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, verifica que la URL del informe sea correcta y que tengas los permisos necesarios."})]})}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informe de Power BI"}),e.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:t?"Salir de pantalla completa":"Pantalla completa",children:t?e.jsx(k,{className:"w-5 h-5"}):e.jsx(w,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",style:{height:c.height},children:[d&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 z-10",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(g,{className:"w-8 h-8 text-[#2a3d85] animate-spin mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Cargando informe de Power BI..."})]})}),e.jsx("iframe",{ref:l,src:y(n),width:c.width,height:"100%",frameBorder:"0",allowFullScreen:!0,className:"w-full",title:"Power BI Report"})]})]})}export{z as P};
