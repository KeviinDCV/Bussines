class t{static instance;isAuthenticated=!1;loginUrl="/login";constructor(){this.setupPopstateListener()}static getInstance(){return t.instance||(t.instance=new t),t.instance}setupPopstateListener(){window.addEventListener("popstate",e=>{this.isAuthenticated&&window.location.pathname===this.loginUrl&&(e.preventDefault(),window.history.forward(),setTimeout(()=>{window.location.href="/dashboard"},50))})}setAuthenticated(e=!0){this.isAuthenticated=!0,e&&setTimeout(()=>{window.history.length>1&&window.history.replaceState({preventBack:!0},document.title,window.location.href)},100)}setUnauthenticated(){this.isAuthenticated=!1}preventBackNavigation(){window.history.pushState(null,document.title,window.location.href),window.addEventListener("popstate",this.handleBackButton,{once:!0})}handleBackButton=e=>{window.history.pushState(null,document.title,window.location.href)}}const n=t.getInstance();export{n as a};
