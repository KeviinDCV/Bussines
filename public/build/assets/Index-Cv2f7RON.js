import{j as e,L as _,r as h,a as g}from"./app-Bz4Jl_qD.js";import{A as re}from"./AppLayout-NQlFxN9g.js";import{B as c}from"./button-BuLia5l4.js";import{I as O,E as oe}from"./index-nnm_Dzxx.js";import{S as R,a as U,b as I,c as T,d as b}from"./select-DG2YJGiU.js";import{B as L}from"./badge-B4aVnjhq.js";import{c as S}from"./createLucideIcon-Cz9XKqAq.js";import{C as le}from"./chevron-right-BGKR0yyp.js";import{s as w,a as j}from"./sweetAlert-DJK8XZI4.js";import{S as o}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{U as A}from"./users-BduFRSDn.js";import{S as H}from"./shield-CjMQtDIE.js";import{P as $}from"./plus-DALoCAsr.js";import{T as P}from"./trash-2-ASQ672-o.js";/* empty css            */import"./auth-DRjdeam4.js";import"./authHistoryManager-C0uFoHhB.js";import"./user-Cpg3cHIE.js";import"./chevron-down-asrDZRPr.js";import"./settings-DVpu2bSy.js";import"./log-out-HrsI3p_v.js";import"./index-C6lQ1IAW.js";import"./Combination-D9JS01nV.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ie=S("ChevronLeft",ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],X=S("Filter",de);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],G=S("SquarePen",ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ue=S("UserCheck",me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],pe=S("UserX",xe);function he({data:r,preserveFilters:x={},className:C=""}){if(r.last_page<=1)return null;const v=n=>{if(!n)return"#";if(Object.keys(x).length===0)return n;try{const d=new URL(n,window.location.origin);return Object.entries(x).forEach(([m,u])=>{u!=null&&u!==""&&u!=="all"&&d.searchParams.set(m,String(u))}),d.pathname+d.search}catch(d){return console.error("Error building pagination URL:",d),n}};return e.jsxs("div",{className:`bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 ${C}`,children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.links[0]?.url&&e.jsxs(_,{href:v(r.links[0].url),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(ie,{className:"w-4 h-4 mr-1"}),"Anterior"]}),r.links[r.links.length-1]?.url&&e.jsxs(_,{href:v(r.links[r.links.length-1].url),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:["Siguiente",e.jsx(le,{className:"w-4 h-4 ml-1"})]})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando"," ",e.jsx("span",{className:"font-medium",children:(r.current_page-1)*r.per_page+1})," ","a"," ",e.jsx("span",{className:"font-medium",children:Math.min(r.current_page*r.per_page,r.total)})," ","de"," ",e.jsx("span",{className:"font-medium",children:r.total})," ","resultados"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:r.links.map((n,d)=>{const m=v(n.url),u=d===0,f=d===r.links.length-1,E=!n.url;return e.jsx(_,{href:m,className:`
                                        relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors
                                        ${n.active?"z-10 bg-[#2a3d85] border-[#2a3d85] text-white":E?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}
                                        ${u?"rounded-l-md":""}
                                        ${f?"rounded-r-md":""}
                                    `,dangerouslySetInnerHTML:{__html:n.label},...E&&{onClick:N=>N.preventDefault()}},d)})})})]})]})}function Ve({users:r,filters:x,roles:C,rolesData:v}){const[n,d]=h.useState(x.search||""),[m,u]=h.useState(x.role||"all"),[f,E]=h.useState(x.status||"all"),[N,z]=h.useState("users"),[y,M]=h.useState(""),[k,V]=h.useState("all"),[F,Z]=h.useState(v);h.useEffect(()=>{const s=setTimeout(()=>{g.get("/admin/users",{search:n||void 0,role:m==="all"?void 0:m,status:f==="all"?void 0:f,page:1},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(s)},[n,m,f]),h.useEffect(()=>{let s=v;if(y&&(s=s.filter(t=>t.display_name.toLowerCase().includes(y.toLowerCase())||t.name.toLowerCase().includes(y.toLowerCase())||t.description&&t.description.toLowerCase().includes(y.toLowerCase()))),k!=="all"){const t=k==="active";s=s.filter(a=>a.active===t)}Z(s)},[y,k,v]);const K=()=>{d(""),u("all"),E("all"),g.get("/admin/users",{page:1},{preserveState:!0,replace:!0})},W=async s=>{(await o.fire({icon:"warning",title:"¿Eliminar usuario?",text:`¿Estás seguro de que deseas eliminar al usuario "${s.name}"? Esta acción no se puede deshacer.`,showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280"})).isConfirmed&&g.delete(`/admin/users/${s.id}`,{onSuccess:()=>{j("Usuario eliminado","El usuario ha sido eliminado exitosamente.")},onError:()=>{w("Error","No se pudo eliminar el usuario.")}})},J=async s=>{const t=s.is_active?"desactivar":"activar";if((await o.fire({icon:"question",title:`¿${t.charAt(0).toUpperCase()+t.slice(1)} usuario?`,text:`¿Estás seguro de que deseas ${t} al usuario "${s.name}"?`,showCancelButton:!0,confirmButtonText:t.charAt(0).toUpperCase()+t.slice(1),cancelButtonText:"Cancelar",confirmButtonColor:"#2a3d85",cancelButtonColor:"#6b7280"})).isConfirmed){const l=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");g.patch(`/admin/users/${s.id}/toggle-status`,{},{headers:{"X-CSRF-TOKEN":l||"","X-Requested-With":"XMLHttpRequest"},onSuccess:()=>{const i=s.is_active?"desactivado":"activado";j(`Usuario ${i}`,`El usuario ha sido ${i} exitosamente.`)},onError:()=>{w("Error","No se pudo cambiar el estado del usuario.")}})}},Q=async s=>{await o.fire({title:"Detalles del Usuario",html:`
                <div class="text-left space-y-4">
                    <div>
                        <strong class="text-gray-700">Nombre:</strong>
                        <p class="text-gray-900">${s.name}</p>
                    </div>
                    ${s.username?`<div>
                        <strong class="text-gray-700">Usuario:</strong>
                        <p class="text-gray-900">${s.username}</p>
                    </div>`:""}
                    <div>
                        <strong class="text-gray-700">Email:</strong>
                        <p class="text-gray-900">${s.email}</p>
                    </div>
                    <div>
                        <strong class="text-gray-700">Rol:</strong>
                        <p class="text-gray-900">${s.role}</p>
                    </div>
                    <div>
                        <strong class="text-gray-700">Estado:</strong>
                        <p class="text-gray-900">${s.is_active?"Activo":"Inactivo"}</p>
                    </div>
                    <div>
                        <strong class="text-gray-700">Fecha de creación:</strong>
                        <p class="text-gray-900">${new Date(s.created_at).toLocaleDateString("es-ES")}</p>
                    </div>
                </div>
            `,confirmButtonText:"Cerrar",confirmButtonColor:"#2a3d85",width:"500px"})},Y=async s=>{const{value:t}=await o.fire({title:"Editar Usuario",html:`
                <div class="space-y-4 text-left">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre completo</label>
                        <input id="swal-edit-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" value="${s.name}">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre de usuario</label>
                        <input id="swal-edit-username" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" value="${s.username||""}" placeholder="Nombre de usuario único">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Correo electrónico</label>
                        <input id="swal-edit-email" type="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" value="${s.email}">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Contraseña (dejar vacío para mantener actual)</label>
                        <input id="swal-edit-password" type="password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" placeholder="••••••••">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Rol</label>
                        <select id="swal-edit-role" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent">
                            ${C.map(a=>`<option value="${a}" ${a===s.role?"selected":""}>${a}</option>`).join("")}
                        </select>
                    </div>
                </div>
            `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Actualizar Usuario",cancelButtonText:"Cancelar",confirmButtonColor:"#2a3d85",width:"600px",preConfirm:()=>{const a=document.getElementById("swal-edit-name").value,l=document.getElementById("swal-edit-username").value,i=document.getElementById("swal-edit-email").value,p=document.getElementById("swal-edit-password").value,B=document.getElementById("swal-edit-role").value;return!a||!i||!B?(o.showValidationMessage("Nombre, email y rol son obligatorios"),!1):l&&!/^[a-zA-Z0-9._-]+$/.test(l)?(o.showValidationMessage("El nombre de usuario solo puede contener letras, números, puntos, guiones y guiones bajos"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)?p&&p.length<6?(o.showValidationMessage("La contraseña debe tener al menos 6 caracteres"),!1):{name:a,username:l||void 0,email:i,password:p||void 0,role:B}:(o.showValidationMessage("El formato del email no es válido"),!1)}});t&&g.patch(`/admin/users/${s.id}`,t,{onSuccess:()=>{j("Usuario actualizado","El usuario ha sido actualizado exitosamente.")},onError:a=>{const l=Object.values(a).flat().join(`
`);w("Error al actualizar usuario",l)}})},D=async()=>{const{value:s}=await o.fire({title:"Crear Nuevo Rol",html:`
                <div class="space-y-4 text-left">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre interno</label>
                        <input id="role-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" placeholder="ej: nuevo_rol">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre para mostrar</label>
                        <input id="role-display-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" placeholder="ej: Nuevo Rol">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Descripción</label>
                        <textarea id="role-description" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" placeholder="Descripción del rol (opcional)" rows="3"></textarea>
                    </div>
                </div>
            `,showCancelButton:!0,confirmButtonText:"Crear Rol",cancelButtonText:"Cancelar",confirmButtonColor:"#2a3d85",width:"500px",preConfirm:()=>{const t=document.getElementById("role-name").value,a=document.getElementById("role-display-name").value,l=document.getElementById("role-description").value;return!t||!a?(o.showValidationMessage("Nombre interno y nombre para mostrar son obligatorios"),!1):{name:t,display_name:a,description:l}}});s&&g.post("/admin/roles",s,{onSuccess:()=>{j("Rol creado","El rol ha sido creado exitosamente.")},onError:t=>{const a=Object.values(t).flat().join(`
`);w("Error al crear rol",a)}})},q=async()=>{const{value:s}=await o.fire({title:"Crear Nuevo Usuario",html:`
                <div class="space-y-4 text-left">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre completo</label>
                        <input id="swal-input1" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" placeholder="Nombre completo">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre de usuario</label>
                        <input id="swal-input6" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" placeholder="usuario_unico">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Correo electrónico</label>
                        <input id="swal-input2" type="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" placeholder="usuario@huv.com">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                        <input id="swal-input3" type="password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" placeholder="••••••••">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Confirmar contraseña</label>
                        <input id="swal-input5" type="password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" placeholder="••••••••">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Rol</label>
                        <select id="swal-input4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent">
                            <option value="">Seleccionar rol</option>
                            ${C.map(t=>`<option value="${t}">${t}</option>`).join("")}
                        </select>
                    </div>
                </div>
            `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Crear Usuario",cancelButtonText:"Cancelar",confirmButtonColor:"#2a3d85",width:"600px",preConfirm:()=>{const t=document.getElementById("swal-input1").value,a=document.getElementById("swal-input6").value,l=document.getElementById("swal-input2").value,i=document.getElementById("swal-input3").value,p=document.getElementById("swal-input5").value,B=document.getElementById("swal-input4").value;return!t||!l||!i||!p||!B?(o.showValidationMessage("Nombre, email, contraseña y rol son obligatorios"),!1):a&&!/^[a-zA-Z0-9._-]+$/.test(a)?(o.showValidationMessage("El nombre de usuario solo puede contener letras, números, puntos, guiones y guiones bajos"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)?i.length<6?(o.showValidationMessage("La contraseña debe tener al menos 6 caracteres"),!1):i!==p?(o.showValidationMessage("Las contraseñas no coinciden"),!1):{name:t,username:a||void 0,email:l,password:i,password_confirmation:p,role:B}:(o.showValidationMessage("El formato del email no es válido"),!1)}});s&&g.post("/admin/users",s,{onSuccess:()=>{j("Usuario creado","El usuario ha sido creado exitosamente.")},onError:t=>{const a=Object.values(t).flat().join(`
`);w("Error al crear usuario",a)}})},ee=s=>({Asistenciales:"bg-blue-100 text-blue-800",Administrativos:"bg-green-100 text-green-800",Direccionamiento:"bg-purple-100 text-purple-800",Financieros:"bg-orange-100 text-orange-800",Administrador:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",se=()=>{M(""),V("all")},te=async s=>{const{value:t}=await o.fire({title:"Editar Rol",html:`
                <div class="space-y-4 text-left">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre interno</label>
                        <input id="role-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" value="${s.name}">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre para mostrar</label>
                        <input id="role-display-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" value="${s.display_name}">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Descripción</label>
                        <textarea id="role-description" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2a3d85] focus:border-transparent" rows="3">${s.description||""}</textarea>
                    </div>
                    <div>
                        <label class="flex items-center">
                            <input id="role-active" type="checkbox" ${s.active?"checked":""} class="mr-2">
                            Activo
                        </label>
                    </div>
                </div>
            `,showCancelButton:!0,confirmButtonText:"Actualizar Rol",cancelButtonText:"Cancelar",confirmButtonColor:"#2a3d85",width:"500px",preConfirm:()=>{const a=document.getElementById("role-name").value,l=document.getElementById("role-display-name").value,i=document.getElementById("role-description").value,p=document.getElementById("role-active").checked;return!a||!l?(o.showValidationMessage("Nombre interno y nombre para mostrar son obligatorios"),!1):{name:a,display_name:l,description:i,active:p}}});t&&g.put(`/admin/roles/${s.id}`,t,{onSuccess:()=>{j("Rol actualizado","El rol ha sido actualizado exitosamente.")},onError:a=>{const l=Object.values(a).flat().join(`
`);w("Error al actualizar rol",l)}})},ae=async s=>{(await o.fire({icon:"warning",title:"¿Eliminar rol?",text:`¿Estás seguro de que deseas eliminar el rol "${s.display_name}"? Esta acción no se puede deshacer.`,showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280"})).isConfirmed&&g.delete(`/admin/roles/${s.id}`,{onSuccess:()=>{j("Rol eliminado","El rol ha sido eliminado exitosamente.")},onError:()=>{w("Error","No se pudo eliminar el rol.")}})};return e.jsxs(re,{title:"Gestión de Usuarios - Tableros de Gestión HUV",pageTitle:"Gestión de Usuarios",pageDescription:"Administrar usuarios del sistema",icon:A,showBackButton:!0,backUrl:"/dashboard/administrador",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[e.jsxs("button",{onClick:()=>z("users"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${N==="users"?"border-[#2a3d85] text-[#2a3d85]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(A,{className:"w-4 h-4 inline mr-2"}),"Usuarios"]}),e.jsxs("button",{onClick:()=>z("roles"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${N==="roles"?"border-[#2a3d85] text-[#2a3d85]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(H,{className:"w-4 h-4 inline mr-2"}),"Roles"]})]})})}),N==="users"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(O,{type:"text",placeholder:"Buscar por nombre o email...",value:n,onChange:s=>d(s.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:border-[#2a3d85] focus:ring-2 focus:ring-[#2a3d85]/20 transition-all duration-200 text-gray-900 placeholder-gray-500"})}),e.jsxs(R,{value:m,onValueChange:u,children:[e.jsx(U,{className:"w-full sm:w-48 px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:border-[#2a3d85] focus:ring-2 focus:ring-[#2a3d85]/20 transition-all duration-200 text-gray-700 font-medium",children:e.jsx(I,{placeholder:"Filtrar por rol"})}),e.jsxs(T,{className:"rounded-lg border-2 border-gray-200 shadow-lg",children:[e.jsx(b,{value:"all",className:"font-medium",children:"Todos los roles"}),C.map(s=>e.jsx(b,{value:s,className:"font-medium",children:s},s))]})]}),e.jsxs(R,{value:f,onValueChange:E,children:[e.jsx(U,{className:"w-full sm:w-48 px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:border-[#2a3d85] focus:ring-2 focus:ring-[#2a3d85]/20 transition-all duration-200 text-gray-700 font-medium",children:e.jsx(I,{placeholder:"Filtrar por estado"})}),e.jsxs(T,{className:"rounded-lg border-2 border-gray-200 shadow-lg",children:[e.jsx(b,{value:"all",className:"font-medium",children:"Todos los estados"}),e.jsx(b,{value:"active",className:"font-medium",children:"Activos"}),e.jsx(b,{value:"inactive",className:"font-medium",children:"Inactivos"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(c,{onClick:K,className:"bg-white border-2 border-[#2a3d85] text-[#2a3d85] hover:bg-[#2a3d85] hover:text-white font-medium px-6 py-2.5 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Limpiar"]}),e.jsxs(c,{onClick:q,className:"bg-[#2a3d85] hover:bg-[#1e2d5f] text-white font-medium px-6 py-2.5 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Nuevo Usuario"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-[#2a3d85] to-[#1e2d5f]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Username"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Fecha Registro"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-white uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.data.map(s=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:s.username||"Sin username"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(L,{className:ee(s.role),children:s.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(L,{className:s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:s.is_active?"Activo":"Inactivo"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString("es-ES")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(c,{size:"sm",onClick:()=>Q(s),className:"bg-[#2a3d85] hover:bg-[#1e2d5f] text-white p-2 rounded-md transition-all duration-200 hover:shadow-md",children:e.jsx(oe,{className:"w-4 h-4"})}),e.jsx(c,{size:"sm",onClick:()=>Y(s),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-md transition-all duration-200 hover:shadow-md",children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx(c,{size:"sm",onClick:()=>J(s),className:`p-2 rounded-md transition-all duration-200 hover:shadow-md text-white ${s.is_active?"bg-orange-500 hover:bg-orange-600":"bg-green-500 hover:bg-green-600"}`,children:s.is_active?e.jsx(pe,{className:"w-4 h-4"}):e.jsx(ue,{className:"w-4 h-4"})}),e.jsx(c,{size:"sm",onClick:()=>W(s),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-md transition-all duration-200 hover:shadow-md",children:e.jsx(P,{className:"w-4 h-4"})})]})})]},s.id))})]})}),e.jsx(he,{data:r,preserveFilters:{search:n||void 0,role:m==="all"?void 0:m,status:f==="all"?void 0:f}})]}),r.data.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron usuarios"}),e.jsx("p",{className:"text-gray-500 mb-4",children:x.search||x.role||x.status?"Intenta ajustar los filtros de búsqueda.":"Comienza creando tu primer usuario."}),e.jsxs(c,{onClick:q,className:"bg-[#2a3d85] hover:bg-[#1e2d5f] text-white font-medium px-6 py-2.5 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Crear Usuario"]})]})]}),N==="roles"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(O,{type:"text",placeholder:"Buscar por nombre o descripción...",value:y,onChange:s=>M(s.target.value),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:border-[#2a3d85] focus:ring-2 focus:ring-[#2a3d85]/20 transition-all duration-200 text-gray-900 placeholder-gray-500"})}),e.jsxs(R,{value:k,onValueChange:V,children:[e.jsx(U,{className:"w-full sm:w-48 px-4 py-2.5 border-2 border-gray-200 rounded-lg focus:border-[#2a3d85] focus:ring-2 focus:ring-[#2a3d85]/20 transition-all duration-200 text-gray-700 font-medium",children:e.jsx(I,{placeholder:"Filtrar por estado"})}),e.jsxs(T,{className:"rounded-lg border-2 border-gray-200 shadow-lg",children:[e.jsx(b,{value:"all",className:"font-medium",children:"Todos los estados"}),e.jsx(b,{value:"active",className:"font-medium",children:"Activos"}),e.jsx(b,{value:"inactive",className:"font-medium",children:"Inactivos"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(c,{onClick:se,className:"bg-white border-2 border-[#2a3d85] text-[#2a3d85] hover:bg-[#2a3d85] hover:text-white font-medium px-6 py-2.5 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Limpiar"]}),e.jsxs(c,{onClick:D,className:"bg-[#2a3d85] hover:bg-[#1e2d5f] text-white font-medium px-6 py-2.5 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Nuevo Rol"]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-[#2a3d85] to-[#1e2d5f]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"Fecha Creación"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-white uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(s=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.display_name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.name}),s.description&&e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:s.description})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(L,{className:s.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:s.active?"Activo":"Inactivo"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString("es-ES")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(c,{size:"sm",onClick:()=>te(s),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-md transition-all duration-200 hover:shadow-md",children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx(c,{size:"sm",onClick:()=>ae(s),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-md transition-all duration-200 hover:shadow-md",children:e.jsx(P,{className:"w-4 h-4"})})]})})]},s.id))})]})})}),F.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(H,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron roles"}),e.jsx("p",{className:"text-gray-500 mb-4",children:y||k!=="all"?"Intenta ajustar los filtros de búsqueda.":"Comienza creando tu primer rol."}),e.jsxs(c,{onClick:D,className:"bg-[#2a3d85] hover:bg-[#1e2d5f] text-white font-medium px-6 py-2.5 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Crear Rol"]})]})]})]})}export{Ve as default};
