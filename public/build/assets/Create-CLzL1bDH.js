import{r as x,u as w,j as e,H as C,L as h}from"./app-DPE0jHgp.js";import{B as d}from"./button-BLTV56Rg.js";import{I as i,E as u,s as n,a as E}from"./sweetAlert-ZesSIPC4.js";import{L as t,E as p,C as S}from"./checkbox-BZZsxk9Q.js";import{S as _,a as U,b as L,c as F,d as P}from"./select-CPIY9_8N.js";import{A as k,U as j}from"./user-DR9-1J-8.js";import{L as q}from"./lock-C_irVX3X.js";import{S as I}from"./shield-BoqWa6st.js";/* empty css            */import"./createLucideIcon-DgFgfN8u.js";import"./sweetalert2.esm.all-Y6IUEg8t.js";import"./index-BC3z1QHo.js";import"./index-yIeIzZRi.js";import"./Combination-3z83fryO.js";import"./chevron-down-tvrzhx8U.js";function W({roles:g}){const[l,N]=x.useState(!1),[c,f]=x.useState(!1),{data:r,setData:o,post:v,processing:m,errors:a}=w({name:"",username:"",email:"",password:"",password_confirmation:"",role:"",is_active:!0}),b=s=>{o("role",s)},y=s=>{if(s.preventDefault(),!r.name||!r.email||!r.password||!r.role){n("Campos requeridos","Por favor complete todos los campos obligatorios.");return}if(r.password!==r.password_confirmation){n("Error de validación","Las contraseñas no coinciden.");return}v("/admin/users",{onSuccess:()=>{E("Usuario creado","El usuario ha sido creado exitosamente.")},onError:()=>{n("Error","No se pudo crear el usuario. Verifique los datos ingresados.")}})};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(C,{title:"Crear Usuario - Tableros de Gestión HUV"}),e.jsx("div",{className:"bg-[#2a3d85] text-white p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{href:"/admin/users",className:"mr-4",children:e.jsxs(d,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Volver a Usuarios"]})}),e.jsx(j,{className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Crear Nuevo Usuario"}),e.jsx("p",{className:"opacity-90",children:"Agregar un nuevo usuario al sistema"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium",children:"Hospital Universitario del Valle"}),e.jsx("p",{className:"text-xs opacity-90",children:'"Evaristo Garcia" E.S.E'})]})]})})}),e.jsx("div",{className:"max-w-3xl mx-auto p-6",children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(j,{className:"w-5 h-5 mr-2 text-[#2a3d85]"}),"Información Personal"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Nombre Completo *"}),e.jsx(i,{id:"name",type:"text",value:r.name,onChange:s=>o("name",s.target.value),placeholder:"Ej: Juan Pérez García",className:`h-12 ${a.name?"border-red-500":"border-gray-300"} focus:border-[#2a3d85] focus:ring-[#2a3d85]`,required:!0}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"username",className:"text-gray-700 font-medium",children:"Nombre de Usuario"}),e.jsx(i,{id:"username",type:"text",value:r.username,onChange:s=>o("username",s.target.value),placeholder:"Ej: juan.perez (opcional)",className:`h-12 ${a.username?"border-red-500":"border-gray-300"} focus:border-[#2a3d85] focus:ring-[#2a3d85]`}),a.username&&e.jsx("p",{className:"text-sm text-red-600",children:a.username}),e.jsx("p",{className:"text-xs text-gray-500",children:"Solo letras, números, puntos, guiones y guiones bajos"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",className:"text-gray-700 font-medium",children:"Correo Electrónico *"}),e.jsx(i,{id:"email",type:"email",value:r.email,onChange:s=>o("email",s.target.value),placeholder:"usuario@huv.com",className:`h-12 ${a.email?"border-red-500":"border-gray-300"} focus:border-[#2a3d85] focus:ring-[#2a3d85]`,required:!0}),a.email&&e.jsx("p",{className:"text-sm text-red-600",children:a.email})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(q,{className:"w-5 h-5 mr-2 text-[#2a3d85]"}),"Credenciales de Acceso"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"password",className:"text-gray-700 font-medium",children:"Contraseña *"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"password",type:l?"text":"password",value:r.password,onChange:s=>o("password",s.target.value),placeholder:"Mínimo 8 caracteres",className:`h-12 pr-12 ${a.password?"border-red-500":"border-gray-300"} focus:border-[#2a3d85] focus:ring-[#2a3d85]`,required:!0,minLength:8}),e.jsx("button",{type:"button",onClick:()=>N(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:l?e.jsx(p,{className:"w-5 h-5"}):e.jsx(u,{className:"w-5 h-5"})})]}),a.password&&e.jsx("p",{className:"text-sm text-red-600",children:a.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"password_confirmation",className:"text-gray-700 font-medium",children:"Confirmar Contraseña *"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"password_confirmation",type:c?"text":"password",value:r.password_confirmation,onChange:s=>o("password_confirmation",s.target.value),placeholder:"Repetir contraseña",className:`h-12 pr-12 ${a.password_confirmation?"border-red-500":"border-gray-300"} focus:border-[#2a3d85] focus:ring-[#2a3d85]`,required:!0}),e.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c?e.jsx(p,{className:"w-5 h-5"}):e.jsx(u,{className:"w-5 h-5"})})]}),a.password_confirmation&&e.jsx("p",{className:"text-sm text-red-600",children:a.password_confirmation})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(I,{className:"w-5 h-5 mr-2 text-[#2a3d85]"}),"Permisos y Configuración"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"role",className:"text-gray-700 font-medium",children:"Rol del Usuario *"}),e.jsxs(_,{value:r.role,onValueChange:b,children:[e.jsx(U,{className:`h-12 ${a.role?"border-red-500":"border-gray-300"}`,children:e.jsx(L,{placeholder:"Seleccionar rol"})}),e.jsx(F,{children:g.map(s=>e.jsx(P,{value:s,children:s},s))})]}),a.role&&e.jsx("p",{className:"text-sm text-red-600",children:a.role})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-gray-700 font-medium",children:"Estado del Usuario"}),e.jsxs("div",{className:"flex items-center space-x-2 h-12",children:[e.jsx(S,{id:"is_active",checked:r.is_active,onCheckedChange:s=>o("is_active",s)}),e.jsx(t,{htmlFor:"is_active",className:"text-sm text-gray-600",children:"Usuario activo (puede acceder al sistema)"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Información Importante:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• La contraseña debe tener al menos 8 caracteres"}),e.jsx("li",{children:"• El nombre de usuario es opcional y debe ser único"}),e.jsx("li",{children:"• El usuario puede iniciar sesión con email o nombre de usuario"}),e.jsx("li",{children:"• Solo los usuarios activos pueden acceder al sistema"}),e.jsx("li",{children:"• El rol determina los permisos del usuario en el sistema"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx(h,{href:"/admin/users",children:e.jsx(d,{type:"button",variant:"outline",className:"px-6",children:"Cancelar"})}),e.jsx(d,{type:"submit",disabled:m,className:"px-6 bg-[#2a3d85] hover:bg-[#1e2d5f]",children:m?"Creando...":"Crear Usuario"})]})]})})})]})}export{W as default};
